# Shell 指令速查表（非完整）

> 图注：💡 = 提示，❗ = 注意
>

### 1. 终端与用户

|            名称            | 用法 / 选项（简略）                                          | 注释                                                         |
| :------------------------: | :----------------------------------------------------------- | ------------------------------------------------------------ |
|           用户名           | `whoami`                                                     | 显示当前登录的用户                                           |
|           主机名           | 1. `hostname`<br />2. `hostname -s`                          | 1. 显示完整的主机名<br />2. 显示简单的主机名                 |
| 提升权限（**管理员权限**） | `sudo <command>`                                             | 以**管理员身份**执行命令<br />**注：在该用户为管理员的前提下才可用** |
|          关于主机          | 1. `hostnamectl`<br />2. `hostnamectl set-hostname <hostname>` | 1. 显示当前主机信息<br />2. 设置主机名**（普通用户下需提权）** |
|        切换其它用户        | 1. `su <用户名>`<br />2. `su`<br />3. `sudo su`              | 1. 切换指定用户<br />2. 切换至 root 用户<br />3. 当不知道 root 用户密码的情况下，使用管理员权限切换至 root 用户 |
|          输出内容          | 1. `echo Hello world`<br />2. `echo "Hello world"`<br />3. `echo -n "Hello world"` | 1. 直接输出 Hello world<br />2. 与上一条一致，但看起来更直观<br />3. 输出不换行 |
|          命令变量          | 1. `alias`<br/>2. `alias n='command'`<br />3. `unalias n`    | 1. 显示所有已被定义的变量<br />2. 定义一个新变量 n，以代替某个指令<br />3. 删除新变量 n |
|          指令搜索          | `which <command>`                                            | 搜索指定指令所在的路径                                       |
|          指令搜索          | `whereis <keyword>`                                          | 搜索二进制文件、帮助文件等                                   |
|          帮助手册          | 1. `man <command>`<br />2. `man -k <keyword>`<br />3. `man -K <keyword>` | 1. 查看关于`<command>`的帮助<br />2. 搜索帮助<br />3. 全局搜索帮助 |
|        指令历史记录        | 1. `history`<br />2. `history n`<br />3. `history -c`<br />4. `history -d n` | 1. 查看最近的历史记录<br />2. 显示最近 n 条记录<br />3. 清除所有记录<br />4. 删除第 n 条记录 |
|        快速执行命令        | 1. `!!`<br />2. `!n`<br />3. `!keyword`                      | 1. 执行上一条指令<br />2. 执行第 n 条指令<br />3. 执行上一条包含 `keyword` 的指令<br />💡：使用<kbd>Ctrl</kbd>+<kbd>R</kbd> 可直接进行指令回溯 |
|        更改用户密码        | 1. `passwd <user_name>`<br />2. `passwd `                    | 1. 修改指定用户密码<br />2. 修改当前用户密码                 |
|            清屏            | `clear`                                                      | 快捷键：<kbd>Ctrl</kbd>+<kbd>L</kbd>                         |
|            注销            | `logout`                                                     | 快捷键：<kbd>Ctrl</kbd>+<kbd>D</kbd>                         |
|        启动桌面环境        | `startx`                                                     | 启动 X.org 桌面环境                                          |


### 2. 目录与文件管理

|         名称          | 用法 / 选项（简略）                                          | 注释                                                         |
| :-------------------: | :----------------------------------------------------------- | ------------------------------------------------------------ |
|     切换工作路径      | 1. `cd <DIR>`<br/>2. `cd`<br />3. `cd -`                     | 1. 指定一个目录<br />2. **切换至主目录（家目录）**<br />3. 回到之前访问过的目录 |
|     查看当前路径      | `pwd`                                                        | 查看当前的工作路径                                           |
|   查看路径下的内容    | 1. `ls` <br />2. `ls <DIR1> [DIR2] ...`<br />3. `ls -l | ll`<br/>4. `ls -h`<br/>5. `ls -a`<br/>6. `ls -R`<br/>7. `ls -d`<br />8. `ls -Z` | 1. 查看当前路径下的内容<br />2. 查看指定单个或多个路径下的内容<br />3. 显示详细<br/>4. 显示看得懂的文件大小<br/>5. 显示所有内容（**包含隐藏目录或文件**）<br/>6. 完整显示目录下的所有文件（**递归查看**）<br/>7. 将目录像其它文件一样列出，而不是列出它们的内容<br />8. 将目录 |
|       新建目录        | 1. `mkdir <目录1> [目录2]...`<br/>2. `-p`                    | 1. 新建单个或多个空目录<br/>2. 递归新建单个或多个空目录      |
|      删除空目录       | 1. `rmdir <目录1> [目录2]...`<br />2. `-p`                   | 1. 删除指定的**空目录**<br />2. 删除父目录及内部的所有**空目录** |
|       新建文件        | `touch <文件1> [文件2]...`                                   | 新建一个或多个空白的文件                                     |
|     复制文件目录      | 1. `cp <源文件> <目标>`<br />2. `-r`<br />3. `-p`<br />4. `-v`<br />5. `-a` | 1. 将文件复制到目标路径<br />2. 递归复制（复制目录）<br />3. 复制时再复制权限<br />4. 显示复制过程<br />5. 此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。 |
|     删除文件目录      | 1. `rm <目录文件1> [目录文件2]...`<br />2. `-r` / `-R`<br />3. `-f`<br />4. `-rf <目录文件>` | 1. 删除单个或多个目录或文件，可能需确认<br />2. 递归删除**（包括目录）**<br />3. 强制性删除，**跳过确认**<br />4. 强制性递归删除该目录或文件**（❗ 谨慎操作）** |
| 移动 / 重命名文件目录 | 0. `mv <源> <目标>`<br />1. `mv a/b.file /doc`<br />2. `mv a.file b.txt` | 1. 将 a 目录里的 `b.file` 文件移动到`/doc` 目录<br />2. 将当前目录下的 `a.file` 文件重命名为 `b.txt` |
|       文件类型        | `file <file1 / dir1> [file2 / dir2]...`                      | 查看单个或多个文件类型                                       |
|       文件属性        | `stat <file1 / dir1> [file2 / dir2]`                         | 查看单个或多个文件的详细属性                                 |
|   链接（快捷方式）    | 1. `ln <源文件> <链接>`<br />2. ` -s <源文件> <链接>`        | 1. 创建一个**硬**链接<br />❗：删除源文件后**仍可用**，**但不能在目录上创建**）<br />2. 创建一个**软**链接<br />❗：删除源文件后**不可用** |
|   以树目录显示内容    | `tree <目录>`                                                | ❗：需下载安装 `tree` 软件包即可                              |

### 3. 文件操作编辑

|               名称               | 用法 / 选项（简略）                                          | 注释                                                         |
| :------------------------------: | :----------------------------------------------------------- | ------------------------------------------------------------ |
|        显示/编辑文件内容         | 1. `cat <file1> [file2]...`<br />2. `cat > <file>`<br />3. `cat >> <file>` | 1. 显示完整的文件内容<br />2. 以行编辑模式下编辑文件并将其**覆盖写入**到文件中<br />3. 以行编辑模式下编辑文件并将其**追加写入**到文件中 |
|         显示头部文件内容         | 1. `head <file1> [file2]...`<br/>2. `head -n x <file1> [file2]... ` | 1. 默认查看前 10 行<br/>2. 查看前 x 行                       |
|         显示尾部文件内容         | 1. `tail <file1> [file2]...`<br/>2. `tail -n x <file1> [file2]...`<br />3. `tail -f <file1> [file2]...` | 1. 默认查看尾 10 行<br/>2. 查看尾 x 行<br />3. 监视文件的内容（常用于查看日志） |
|      统计字数、行数、单词数      | 1. `wc <file1> [file2]...`<br />2. `-l`<br />3. `-m`<br />4. `-w` | 1. 统计所有<br />2. 统计行数<br />3. 统计字数<br />4. 统计词数 |
|        比较两个文件的不同        | `diff <file1> <file2>`                                       | 比较 `file1` 与 `file2` 的不同                               |
|             筛选工具             | 1. `<command> | grep <String>`<br />2. `grep <keyword> <file1> [file2] `<br /> | 1. 通过此方法可直接筛选并输出<br />2. 在单个或多个文件中查找行内包含的关键字并输出 |
|        将输出结果写入文件        | 1. `<command> > <file>`<br />2. `<command> >> <file>`<br />  | 1. 将命令的执行结果**覆盖写入**至文件中<br />2. 将命令的执行结果**追加写入**至文件中<br /> |
|      以行编辑模式下编辑文件      | 1. `tee <file>`<br />2. `tee -a <file>`                      | 1. 将写入的内容**覆盖保存**到文件中<br />2. 将写入的内容**追加保存**到文件中<br />💡：使用行编辑模式下可直接在行内编辑并回车，编辑完成后，按 <kbd>Ctrl</kbd>+<kbd>C</kbd> 结束编辑并保存<br /> |
| vim 文本编辑器 / nano 文本编辑器 | 1. `vi [file]` / `vim [file]`<br />2. `nano [file]`          | 1. 使用 vi / vim 文本编辑器打开或新建文件<br />其中，vim 编辑器为 vi 的加强版<br />❗：部分 Linux 发行版默认未安装 `vim` 软件包<br /><br />2. 使用 nano 文本编辑器打开或新建文件 |
|            tar 压缩包            | 1. `tar -xvf <file.tar> [-C <dir>]`<br />2. `tar -xzvf <file.tar.gz/file.tgz> [-C <dir>]`<br />3. ` tar -cvf <file.tar> <压缩目标>`<br />4. `tar -czvf <file.tar.gz>/<file.tgz>` | 1. 解压 tar 包<br />     · `-C`：指定解压目录<br />     · `-x`：解压压缩包<br />     · `-v`：显示压缩或解压进度<br />     · `-f`：指定存档文件<br />2. 解压 tar.gz / tgz 包<br />     · `-z`：使用 gzip 格式<br />3. 压缩目录或文件为 tar 包<br />     · `-c`：创建压缩包<br />4. 压缩目录或文件为 tar.gz / tgz 包 |
|            zip 压缩包            | 1. `zip <file.zip> -r <dir/file> [-P <压缩密码> -<0-9>] `<br />2. `unzip <file.zip> [-d <dir> ]` | 1. 压缩目录或文件为 zip 包<br />    · `-r`：递归打包（常用于打包目录下的所有文件）<br />    · `-P`：设置压缩密码<br />    · `-<0-9>`： 表示压缩质量级别，默认值为 6。级别越高，压缩质量越好；级别越低，压缩速度越快<br />2. 解压 zip 包到当前目录<br />    · `-d`：指定解压目录 |

### 4. 系统与硬件管理

|         名称         | 用法 / 选项（简略）                                          | 注释                                                         |
| :------------------: | :----------------------------------------------------------- | ------------------------------------------------------------ |
|       主机信息       | `hostnamectl`                                                | 查看当前主机的所有信息                                       |
|     显示系统信息     | 1. `uname`<br />2. ` -a`<br />3. `-m`<br />4. `-n`<br />     | 1. 使用的内核<br />2. 显示所有系统信息<br />3. 使用的物理架构<br />4. 主机名称<br /> |
| 日期时间格式 / 时区  | 1. `date`<br/>2. `date +<format>`<br />3. `timedatectl`      | 1. 显示现在的日期时间<br />2. 自定义显示日期时间格式（如：`%F`,`%T`）<br />3. 查看当前的日期时间、时区等详细信息 |
|       系统管理       | 1. `systemctl`<br />2. `systemctl [is-active / is-enabled] <SERVICE>`<br />3. `systemctl [start / stop / enable / disable / restart / reload / status] <SERVICE>`<br /> | 1. 用于查看系统下的所有设备、挂载、服务、接口等信息<br />2. 分别查看服务是否运行？是否开机自启？<br />3. 分别管理服务的**启动、关闭、允许开机自启、禁用开机自启、重启、重新加载配置、查看状态**服务 |
|      任务管理器      | `top`                                                        | 管理所有正在运行的进程                                       |
| 查看指定目录所占空间 | 1. `du`<br />2. `du -sh <文件/目录>`                         | 1. 在当前目录下**递归查看**所有文件及目录的大小<br />2. 在指定目录或文件下查看大小 |
|   查看磁盘分区情况   | `df -h`                                                      | 查看所有磁盘分区的大小、占用情况、挂载点等                   |
|       磁盘分区       | `fdisk`<br />`parted`<br />`cfdisk`                          | 磁盘分区工具                                                 |
|     查看磁盘信息     | `lsblk`                                                      | 显示所有块设备的大小及挂载点                                 |
|    查看 CPU 信息     | `lscpu`                                                      | 显示 CPU 的详细信息                                          |
|       查看电池       | `lspower`                                                    | 显示电池电量及当前使用电池状态                               |
|     内存使用情况     | `free -h`                                                    | 查看当前的内存使用情况                                       |
|         关机         | `poweroff` / `shutdown now`                                  | 关闭电源                                                     |
|         重启         | `reboot`                                                     | 按下 <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Delete</kbd> 也可重启 |
|       电源管理       | `halt [-p / -f / --reboot]`<br />                            | 1. `halt`：挂起电源<br />2. `-p`：关机<br />3. `--reboot`：重启<br />4. `-f`：强制性操作**（❗ 谨慎操作）** |

### 5. 网络与传输

|         名称         | 用法 / 选项（简略）                                          | 注释                                                         |
| :------------------: | :----------------------------------------------------------- | ------------------------------------------------------------ |
|       网络配置       | 1. `nmcli`<br />2. `nmtui`                                   | 1. 命令行下查看所有网络配置<br />2. 图形化界面管理网络配置   |
|     测试网络连通     | 1. `ping <IP / Hostname>`<br />2. `ping -c 4 <IP / Hostname>` | 1. 测试指定 IP 地址或域名是否连通<br />2. 发送 4 个数据包以测试连通性 |
|     显示网络状态     | 1. `netstat -a`<br />2. `netstat -nu`<br />3. `netstat -apu`<br />4. `netstat -i`<br />5. `netstat -r`<br />6. `netstat -ap [ | grep SERVICE] ` | 1. 查看当前系统网络状态的所有连接信息<br />2. 查看 UDP 连接信息<br />3. 查看 UDP 连接端口号使用信息<br />4. 查看网卡状态信息<br />5. 查看网络路由表状态信息<br />6. 搜索某个服务所对应的连接信息 |
|      IP 路由表       | `route` / `ip route`                                         | 查看 IP 路由表                                               |
| 查看物理网卡 IP 地址 | `ip addr`                                                    | 此命令可直接简写为 `ip a`                                    |
|   查看物理网卡配置   | 1. `ifconfig`<br/>2. `ifconfig <网卡名>`<br/><br />          | 1. 显示所有网卡配置<br/>2. 显示指定网卡配置<br />❗：若无法执行此指令，请下载安装 `net-tools` 软件包 |
|     文件下载工具     | `wget <file_url>`                                            | 从某个 url 中下载文件到当前工作路径                          |
|       SSH 连接       | `ssh username@<hostname / ip地址> [-p <22 / 指定端口号>]`    | 使用 SSH 方式连接远程主机，其中的 22 端口为 SSH 默认端口     |
|     传输文件工具     | 0. `scp [<用户名>@<主机名/IP地址>:]<需传输的文件目录> <用户名>@<主机名/IP地址>:<目标目录>`<br />1. `scp user@hostA:~/a.txt user@hostB:~/doc`<br />2. `scp test.txt user@hostA:/doc` | 0. 将其中一台主机中的文件或目录传输到另一台主机的目录中<br />1. 将主机`hostA`下的主目录里的 `a.txt` 文件传输到主机 `hostB` 下的 `~/doc` 目录中<br />2. 将自己主机下的当前目录里的 `test.txt` 文件传输到主机 `hostA` 下的`/doc` 目录中 |
